<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>AutoEP</title>
	<link rel="shortcut icon" href="imgs/logo1.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="index.css">
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

	<script src="../lib/jquery.min.js"></script>
	<script src="../lib/p5.min.js"></script>
	<!-- <script src="lib/p5.sound.min.js"></script> -->

	<script src="../lib/ace/ace.js" type="text/javascript" charset="utf-8"></script>
	<script src="../lib/ace/theme-nord_dark.js" type="text/javascript" charset="utf-8"></script>
	<script src="../lib/ace/mode-groovy.js" type="text/javascript" charset="utf-8"></script>

	<script src="src/cookies.js"></script>
	<script src="src/editing.js"></script>
	<script src="src/socket.js"></script>
	<script src="src/canvas.js"></script>
	<script src="src/assets.js"></script>
	<script src="src/init.js"></script>

</head>

<body>
	<div id="login_screen">
		<div class="header">
			AUTOEP
		</div>
		<div class="header sub">
			Autonomous Entertainment Platform
		</div>
		<input class="login_screen_input" type="text" id="server_address" name="server_address"
			placeholder="server address">
		<br />
		<input class="login_screen_input" type="text" id="username" name="username" placeholder="username">
		<br />
		<input class="login_screen_input" type="password" id="password" name="password" placeholder="private key">
		<br>
		<div class="centered">
			<div id="autoconnect" onclick="toggleAutoConnect()"></div><br />
			<div id="login_button" onclick="login()">Dive in!</div>
			<div id="login_text">Connecting...</div>
			<br />
			<div id="login_text_failed" onclick="resetTextFailed()"></div>
			<div><a href="dist/autoep_server.zip">Download Server</a></div>
		</div>

		<div id="newtab_arrow" onclick="window.open(window.location.href, '_blank');">â†—</div>
		<div id="newtab_text" onclick="window.open(window.location.href, '_blank');">Open on a new tab with no history
			to avoid pressing 'back' and deleting code.</div>

	</div>

	<div id="game_screen">
		<div id="editing">
			<div id="editing_top">
				<div id="editor_menu">
					<div>
						<div class="menu_item">File</div>
						<div id="file_submenu" class="sub_menu"></div>
					</div>
					<!-- <div>
					<div class="menu_item">Edit</div>
					<div id="edit_submenu" class="sub_menu"></div>
				</div>
				<div>
					<div class="menu_item">View</div>
					<div id="view_submenu" class="sub_menu"></div>
				</div> -->
					<div>
						<div id="global_events_submenu_item" class="menu_item">Global Events</div>
						<div id="global_events_submenu" class="sub_menu"></div>
					</div>
					<div>
						<div id="events_submenu_item" class="menu_item">Events</div>
						<div id="events_submenu" class="sub_menu"></div>
					</div>
				</div>
				<div id="editor_shortcuts"></div>
				<div id="editor_title"></div>
			</div>

			<div style="background-color: #272b33; height: calc(100% - 28px); font-size: 0;">
				<div id="editor_wrapper" style="display: inline-block; width: calc(100% - 150px); height: 100%; vertical-align: top; background-color: #20232b; 
					overflow-x: auto; overflow-y: scroll;">
					<div id="editor" style="position: relative; width: 100%; height: 100%;"></div>
				</div>

				<div id="type_list"></div>
			</div>
			<div id="editing_corner"></div>

		</div>

		<div id='p5container'></div>

		<div id="prompt">
			<div id="message_box">
				<div class="message">Are you sure you want to exit without saving?</div>
				<div id="answers">
					<div class="button" onclick="editing_prompt_yes()">Yes</div>
					<div class="button" onclick="editing_prompt_no()">No</div>
					<div id="cancel" class="button" onclick="editing_prompt_cancel()">Cancel</div>
				</div>
			</div>
		</div>

		<div id="sidebar_button" onclick="openSidebar();">ðŸ”¨</div>
		<!-- ðŸŽ® ðŸ’» ðŸ”§ -->
		<div id="sidebar">
			<div id="close_button" onclick="closeSidebar();">âœ–</div>
			<div id="infoline1" class="infoline"></div>
			<div id="infoline2" class="infoline"></div>
			<div class="button" onclick="socket.close();">Disconnect</div>
			<div
				style="position: absolute; bottom: 0; margin-bottom: 16px; width: 300px; transform: translateX(-24px);">
				<!-- <hr style="margin: 10px; 0"> -->
				<div style="border: solid 1px #272b33; margin: 10px 0;"></div>
				<div class="text">OP Only:</div>
				<div class="button" onclick="edit();" style="margin-right: 10px;">Open Editor</div>
				<div class="button" onclick="restart();">Restart Game</div><br>
			</div>
		</div>
	</div>

</body>

</html>